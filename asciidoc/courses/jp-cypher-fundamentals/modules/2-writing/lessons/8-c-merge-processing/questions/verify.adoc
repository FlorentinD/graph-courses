:id: _challenge

[.verify]
= Validate Results

MERGEステートメントを2回実行したら、**Check Database** ボタンをクリックすると、データベースのチェックを行います。


verify::[]

[TIP,role=hint]
.Hint
====
createdAt を設定するには、`ON CREATE SET` を使用する必要があります。
matchedAt を設定するには、 `ON MATCH SET` を使用しなければなりません。
さらに、UpdatedAt を設定するには、 `SET` を使用する必要があります。
====


[TIP,role=solution]
.Solution
====
次のクエリは `MERGE` 節を使用して、_Rocketman_ というタイトルの `:Movie` ノードを検索または作成するものです。

最初に作成されるとき、 `createdAt` プロパティは設定されますが、 `matchedAt` プロパティはヌルになります。
もし、ノードが既に存在する場合には、 `createdAt` プロパティは設定されませんが、 `matchedAt` プロパティは設定されます。

上記の両方の条件において、 `updatedAt` プロパティには現在の日付と時刻が設定されます。


[source,cypher]
----
include::../solution.cypher[]
----

このクエリを2回実行すると、1回目はムービーが作成されるので`matchedAt`プロパティが設定されていませんが、2回目の実行時には現在の日付と時刻が設定されていることがわかります。
====
