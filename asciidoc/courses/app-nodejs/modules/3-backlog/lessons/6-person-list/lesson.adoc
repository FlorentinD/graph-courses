= Listing People
:type: challenge
:test-number: 14
:branch: 14-person-list

If you open click on the **People** link in the main navigation, you will see a paginated list of actors and directors.

== People Search

A list of people can be retrieved by calling the `api/people` endpoint.
The router passes through

.src/services/people.service.js
[source,js,indent=0]
----
include::{repository-raw}/main/src/services/people.service.js[tag=all]
----

This list varies slightly from the Movie lists because this features a **Search by Name** input.
When this value is set, an additional `q` parameter is sent to the .
The cypher query will search

[TIP]
.Using Text Indexes
The `STARTS WITH`, `ENDS WITH` and `CONTAINS` predicates are **case-sensitive**.
If you are looking for a case-insensitive search, you should consider setting up a link:https://neo4j.com/docs/cypher-manual/current/indexes-for-full-text-search/[Full-text Index^].

Here is the Cypher query for searching `:Person` nodes.

.Find People
[source,cypher]
----
include::{repository-raw}/main/cypher/3-backlog/6-person-list/find-people.cypher[]
----

We should modify the `all` method in such a way that the Cypher query only contains the `WHERE` clause when the `q` variable is defined.


Update the `all` method to retrieve the a list of `:Person` nodes from the database.


[%collapsible]
.Click to reveal the completed `all` method
====

.src/services/people.service.js
[source,js,indent=0]
----
include::{repository-raw}/{branch}/src/services/people.service.js[tag=all]
----

====

// Testing
include::../../../../includes/test.adoc[]


== Verifying the Test

include::./questions/1-alphabetical-order.adoc[]


[.summary]
== Lesson Summary

In this lesson, we implemented the `all`  method in the `PeopleService` to return a paginated list of people from the Neo4j database and implemented a conditional filter on the :Person name property.

In the next lesson, we will pull the details for the Person profile from the database.
