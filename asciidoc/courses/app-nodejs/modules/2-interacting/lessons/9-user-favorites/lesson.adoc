= My Favorites List
:type: challenge

image::images/movie-cards.png[Add a Movie to your Favorites, role=right]

The website features a **My Favorites** list which allows users to create a list of their favorite movies.
When a logged in user hovers their mouse over a Movie on the website, a bookmark icon appears in the top right hand corner.
Clicking this icon will either add or remove the movie from the user's Favorites list.

All of the user's favorite movies are then listed at http://localhost:3000/favorites.


When a user clicks the bookmark icon for the first time, a `POST` request is sent to the `/api/favorites/{id}` endpoint.


When a `POST` request it sent to the API, the following will happen:

1. The server directs the request to the route handler in `src/routes/account.routes.js`, which verifies the user's JWT token before handling the request
2. The route handler creates an instance of the `FavoriteService` in `src/services/favorites.service.js`.
3. The `add` method is then called on the `FavoriteService` instance with the ID taken from the JWT token, and the ID of the movie that has been extracted from the request URL.
4. It is then the responsibility of the `FavoriteService` to persist this information and format a response.

Likewise, when it is clicked for a movie that has already been favorited, a `DELETE` request is sent to the same URL to remove.

== Saving the Relationship

In order to save this information to the database, we will have to modify the `FavoriteService` to run a cypher statement in a **write** transaction, creating a `:HAS_FAVORITE` relationship from the User to the Movie.


== Deleting the Relationship


== Adding the `favorite` Property

